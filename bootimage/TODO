$Id: TODO,v 1.20 2005/07/21 21:04:15 fare Exp $ -*- Fundamental -*-

Kernel 2.4
* move on, dude!
* maybe fix issues (that may reappear in 2.6?):
 * APM kills the machine if kapmd is killed. Workaround: rmmod apm before.
 * cardmgr oopses while holding the pcmcia lock if run after pivoting to rootfs

Kernel 2.6
* fix the PCMCIA driver
* make the USB driver work
* port and fix the apm driver
* add sleep/wakeup functions to all our drivers, so as to support swsusp.
* make the sound driver work
* ensure that backlight control works on fb
* get external VGA working and/or some swap-on-VRAM
* get modem working?
* get some spiffy 802.11g card working!
* play nicer with booting to/from WinCE (and autobooting from WinCE to Linux?)
* particularly, find a way to keep (approximate?) time while rebooting.

Bootdisk
* make the initrd work with udev ???
* move to using early-userspace on kernel 2.6 ???
* have usbmgr or whatever is required for USB in the ramdiskimage
(* have blockdev in busybox?)
(* have pcmcia-cs from CVS?)

Userland
* gather a sensible base for userland (?)
* maybe based on OE? on uwoody?
* get a small distribution that includes xemacs and some extensions

Web site
* have a cron job update the web site from CVS.

Bootloader
* build a gcc toolchain for arm-wince-pe ???
* we imported the linexec source code as j820boot,
 now port it to gcc and some gnu libraries.
* steal the reboot code from LAB so as to enable chainboot from Linux
 w/o ever going through WinCE

------>8------>8------>8------>8------>8------>8------>8------>8------>8------
kernel 2.4

See unhh branch of this tree
	http://www.psc.edu/~semke/cvs_branches.html

Use the latest jornada 720 kernel from
	http://wwwcip.informatik.uni-erlangen.de/~simigern/jornada-7xx/
instead of the handhelds.org kernel.

------>8------>8------>8------>8------>8------>8------>8------>8------>8------
apm: do something
2.4 => kernel/arch/arm/mach-sa1100/apm.c
2.6 => kernel/arch/arm/mach-sa1100/jornada820.c
   kernel/arch/arm/kernel/apm.c
new apm_power_info structure

------>8------>8------>8------>8------>8------>8------>8------>8------>8------
video/sa1100fb.c

ensure that somewhere in
extern void (*sa1100fb_backlight_power)(int on);
there is

#ifdef CONFIG_SA1100_JORNADA820
        GPSR = GPIO_JORNADA820_BACKLIGHTON;
#endif

------>8------>8------>8------>8------>8------>8------>8------>8------>8------
pcmcia in 2.6:

if sa11xx_core is a module, then busybox's insmod (and module-init-tools?)
fails to insert sa1100_cs.o: Unknown symbol soc_common_drv_pcmcia_remove
even though it's an extern symbol in sa11xx_core.

------>8------>8------>8------>8------>8------>8------>8------>8------>8------
j820_keyb.c:

 Maybe special-case the Alt+arrow = PgUp, PgDn, Beg, End mappings? (?)

 Recognize as such the snooze button on the back as a key?

------>8------>8------>8------>8------>8------>8------>8------>8------>8------
usb:

------>8------>8------>8------>8------>8------>8------>8------>8------>8------
versioning

migrate to a tool that knows about 3-way merges instead of CVS,
and insert sources for the official kernel, the official arm kernel (if different),
the handhelds.org kernel, the latest j720 kernel (if different), our latest release kernel
and our experimental kernels.

DARCS? monotone? arch?

------>8------>8------>8------>8------>8------>8------>8------>8------>8------
